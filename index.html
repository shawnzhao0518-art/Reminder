<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Daily Reminder</title>
  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --text:#111;
      --muted:#666;
      --primary:#4caf50;
      --radius:14px;
      --shadow:0 6px 20px rgba(0,0,0,.08);
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      line-height:1.6;padding:24px}
    .wrap{max-width:660px;margin:0 auto}
    header{position:relative;background:var(--card);
      border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden}
    .cover{height:200px;background:linear-gradient(135deg,#dfe9f3,#fff);
      display:flex;align-items:center;justify-content:center}
    .cover img{width:100%;height:100%;object-fit:cover;display:block}
    h1{margin:0;padding:14px 18px 10px;font-size:22px}
    main{margin-top:18px;background:var(--card);border-radius:var(--radius);
      box-shadow:var(--shadow);padding:18px}
    .stats{font-size:13px;color:var(--muted);margin-bottom:6px}
    .progress{margin:6px 0 14px;background:#ececec;border-radius:10px;
      overflow:hidden;height:18px}
    .progress-bar{height:100%;width:0%;background:var(--primary);
      color:#fff;font-size:12px;text-align:center;transition:width .25s ease}
    #taskList .task{display:flex;align-items:center;
      justify-content:space-between;padding:10px 0;border-bottom:1px dashed #eee}
    #taskList .task:last-child{border-bottom:0}
    .task-left{display:flex;align-items:center;gap:10px}
    .task-title{font-size:16px}
    .removeBtn{cursor:pointer;font-size:18px;color:#999}
    .removeBtn:hover{color:#000}
    .addTask{display:flex;margin-top:10px;gap:8px}
    .addTask input{flex:1;padding:10px 12px;border:1px solid #ddd;
      border-radius:10px;font-size:15px}
    .addTask .btn{min-width:84px}
    .quote{margin-top:12px;text-align:center;color:var(--muted);font-style:italic}
    .completeMsg{display:none;text-align:center;margin-top:12px;
      font-weight:700;color:#2e7d32}

    footer{margin-top:24px;text-align:center;font-size:13px;line-height:1.6;color:#555}
    footer .info-box{
      display:inline-block;
      background:#f0f8ff;
      padding:12px 16px;
      border-radius:10px;
      margin-bottom:10px;
    }

    /* Floating button and settings panel */
    .fab{
      position:fixed;right:20px;bottom:80px;width:56px;height:56px;
      border-radius:50%;background:var(--primary);color:#fff;font-size:24px;
      display:flex;align-items:center;justify-content:center;cursor:pointer;
      box-shadow:0 4px 10px rgba(0,0,0,.2);
      z-index:2100;
    }
    .settings-panel{
      position:fixed;right:20px;bottom:150px;width:280px;
      background:#fff;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,.15);
      padding:16px;display:none;z-index:2000;
    }
    .settings-panel h3{margin:8px 0;font-size:15px;color:#333}
    .settings-panel .btn{display:inline-block;margin:4px 2px;padding:6px 10px;
      font-size:13px;border-radius:8px;border:0;cursor:pointer}
    .btn.primary{background:var(--primary);color:#fff}
    .btn.secondary{background:#eee;color:#111}
    select{margin-top:4px;padding:4px}

    /* Blue About Shawn button */
    .fixed-about-btn{
      position:fixed;right:20px;bottom:20px;
      background-color:#007bff;color:#fff;
      padding:12px 16px;border-radius:8px;
      text-decoration:none;font-size:14px;font-weight:bold;
      box-shadow:0 4px 10px rgba(0,0,0,0.2);
      z-index:1000;transition:background-color 0.3s;
    }
    .fixed-about-btn:hover{background-color:#0056b3}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="cover" id="coverBox">
        <img id="coverImage" alt="cover" style="display:none" />
      </div>
      <h1 id="title">Daily Reminder</h1>
    </header>

    <main>
      <div class="stats" id="statsTxt">Today 0/0 completed</div>
      <div class="progress"><div class="progress-bar" id="progressBar">0%</div></div>
      <div id="taskList"></div>
      <div class="addTask">
        <input id="newTaskInput" type="text" placeholder="Enter new task‚Ä¶" />
        <button class="btn primary" id="addBtn">Add</button>
      </div>
      <div class="completeMsg" id="completeMsg">üéâ All tasks completed!</div>
      <div class="quote" id="dailyQuote">üí° Quote of the Day: Loading‚Ä¶</div>
    </main>

    <!-- Footer -->
    <footer id="footer">
      <div class="info-box">
        üí° Need a personal website like this or want to give feedback?<br>
        üì© Contact me ‚Äî website design & setup service available.<br>
        ‚úâÔ∏è Email:
        <a href="https://mail.google.com/mail/?view=cm&fs=1&to=shawnzhao0518@gmail.com" target="_blank">
          shawnzhao0518@gmail.com
        </a>
      </div>
      <div style="margin-top:8px;font-size:12px;color:#888;">
        Data is only stored locally in this browser ¬∑ Daily reset at midnight
      </div>
    </footer>
  </div>

  <!-- Settings -->
  <button class="fab" id="fab">‚öô</button>
  <div class="settings-panel" id="settingsPanel">
    <h3 id="coverSettings">Cover Settings</h3>
    <label class="btn secondary" for="coverFile" id="selectCoverBtn">Select Cover</label>
    <input id="coverFile" type="file" accept="image/*" />
    <button class="btn secondary" id="removeCoverBtn">Remove Cover</button>

    <h3 id="taskSettings">Task List</h3>
    <button class="btn secondary" id="exportBtn">Export Tasks</button>
    <button class="btn secondary" id="importBtn">Import Tasks</button>

    <h3>Language / ËØ≠Ë®Ä</h3>
    <select id="langSelect">
      <option value="en">English</option>
      <option value="zh">‰∏≠Êñá</option>
    </select>
  </div>

  <!-- Blue About Shawn Button -->
  <a href="https://about-shawn-ssfa.vercel.app" target="_blank" class="fixed-about-btn">About Shawn</a>

  <script>
    const KEY="dailyTasks_v2",KEY_DATE="lastResetDate",KEY_COVER="coverImageDataURL",KEY_QUOTE="dailyQuote";

    const i18n={en:{title:"Daily Reminder",add:"Add",removeCover:"Remove Cover",selectCover:"Select Cover",
      stats:(d,t)=>`Today ${d}/${t} completed`,completed:"üéâ All tasks completed!",quote:"üí° Quote of the Day: ",
      export:"Export Tasks",import:"Import Tasks",coverSettings:"Cover Settings",taskSettings:"Task List"},
      zh:{title:"ÊØèÊó•ÊèêÈÜí‰∫ãÈ°π",add:"Ê∑ªÂä†",removeCover:"ÁßªÈô§Â∞ÅÈù¢",selectCover:"ÈÄâÊã©Â∞ÅÈù¢",
      stats:(d,t)=>`‰ªäÊó• ${d}/${t} Â∑≤ÂÆåÊàê`,completed:"üéâ ‰ªäÊó•‰ªªÂä°ÂÖ®ÈÉ®ÂÆåÊàêÔºÅ",quote:"üí° ‰ªäÊó•ÂØÑËØ≠Ôºö",
      export:"ÂØºÂá∫‰ªªÂä°",import:"ÂØºÂÖ•‰ªªÂä°",coverSettings:"Â∞ÅÈù¢ËÆæÁΩÆ",taskSettings:"‰ªªÂä°Ê∏ÖÂçï"}};

    const quotes=["ÂùöÊåÅÂ∞±ÊòØËÉúÂà©ÔºÅ","ÊØè‰∏ÄÂ§©ÈÉΩÊòØÊñ∞ÁöÑÂºÄÂßã„ÄÇ","Â∞èÂ∞èÁöÑËøõÊ≠•‰πüÊòØËøõÊ≠•„ÄÇ","‰ªäÂ§©ÁöÑÂä™Âäõ‰ºöÊç¢Êù•ÊòéÂ§©ÁöÑÊàêÂ∞±„ÄÇ","‰øùÊåÅÂæÆÁ¨ëÔºåÁªßÁª≠ÂâçËøõ„ÄÇ","‰Ω†ÊØîËá™Â∑±ÊÉ≥Ë±°ÁöÑÊõ¥Âº∫Â§ß„ÄÇ","Â§±Ë¥•Âè™ÊòØÊàêÂäüÁöÑÂû´ËÑöÁü≥„ÄÇ","Áõ∏‰ø°Ëá™Â∑±Ôºå‰Ω†ËÉΩÂÅöÂà∞ÔºÅ","ÊàêÂäüÊù•Ëá™‰∫éÊØèÊó•ÁöÑÂùöÊåÅ„ÄÇ","Êú™Êù•Â±û‰∫éÂä™ÂäõÁöÑ‰∫∫„ÄÇ"];

    const els={
      coverImage:document.getElementById("coverImage"),
      coverFile:document.getElementById("coverFile"),
      removeCoverBtn:document.getElementById("removeCoverBtn"),
      addBtn:document.getElementById("addBtn"),
      newTaskInput:document.getElementById("newTaskInput"),
      taskList:document.getElementById("taskList"),
      progressBar:document.getElementById("progressBar"),
      completeMsg:document.getElementById("completeMsg"),
      dailyQuote:document.getElementById("dailyQuote"),
      statsTxt:document.getElementById("statsTxt"),
      exportBtn:document.getElementById("exportBtn"),
      importBtn:document.getElementById("importBtn"),
      fab:document.getElementById("fab"),
      settingsPanel:document.getElementById("settingsPanel"),
      title:document.getElementById("title"),
      selectCoverBtn:document.getElementById("selectCoverBtn"),
      coverSettings:document.getElementById("coverSettings"),
      taskSettings:document.getElementById("taskSettings"),
      langSelect:document.getElementById("langSelect")
    };

    function todayKey(){return new Date().toDateString();}
    function loadData(){try{return JSON.parse(localStorage.getItem(KEY))||{tasks:[],checked:{}}}catch{return{tasks:[],checked:{}}}}
    function saveData(d){localStorage.setItem(KEY,JSON.stringify(d));}
    function resetIfNewDay(){
      const last=localStorage.getItem(KEY_DATE),today=todayKey();
      if(last!==today){
        const d=loadData();d.checked={};saveData(d);
        localStorage.setItem(KEY_DATE,today);
        const q=quotes[Math.floor(Math.random()*quotes.length)];
        localStorage.setItem(KEY_QUOTE,q);
        updateProgress();
      }
    }
    setInterval(resetIfNewDay,60000);

    function loadCover(){
      const url=localStorage.getItem(KEY_COVER);
      if(url){els.coverImage.src=url;els.coverImage.style.display="block";}
      else{els.coverImage.style.display="none";}
    }
    els.coverFile.addEventListener("change",e=>{
      const f=e.target.files[0];if(!f)return;
      const r=new FileReader();
      r.onload=ev=>{localStorage.setItem(KEY_COVER,ev.target.result);loadCover();};
      r.readAsDataURL(f);e.target.value="";
    });
    els.removeCoverBtn.addEventListener("click",()=>{localStorage.removeItem(KEY_COVER);loadCover();});

    function updateProgress(){
      const d=loadData(),t=d.tasks.length,done=d.tasks.filter(x=>d.checked[x]).length;
      const p=t===0?0:Math.round(done/t*100);
      els.progressBar.style.width=p+"%";els.progressBar.textContent=p+"%";
      els.statsTxt.textContent=currentLang.stats(done,t);
      els.completeMsg.style.display=(t>0&&done===t)?"block":"none";
    }

    function renderTasks(){
      const d=loadData();els.taskList.innerHTML="";
      d.tasks.forEach(task=>{
        const row=document.createElement("div");row.className="task";
        const left=document.createElement("div");left.className="task-left";
        const box=document.createElement("input");box.type="checkbox";box.checked=!!d.checked[task];
        box.addEventListener("change",()=>{d.checked[task]=box.checked;saveData(d);updateProgress();});
        const label=document.createElement("div");label.className="task-title";label.textContent=task;
        left.appendChild(box);left.appendChild(label);
        const del=document.createElement("span");del.className="removeBtn";del.textContent="‚úï";
        del.addEventListener("click",()=>{
          d.tasks=d.tasks.filter(t=>t!==task);delete d.checked[task];saveData(d);renderTasks();updateProgress();
        });
        row.appendChild(left);row.appendChild(del);els.taskList.appendChild(row);
      });
      updateProgress();
    }

    function addTask(){
      const v=els.newTaskInput.value.trim();if(!v)return;
      const d=loadData();
      if(!d.tasks.includes(v)){
        d.tasks.push(v);saveData(d);els.newTaskInput.value="";renderTasks();
      }
    }
    els.addBtn.addEventListener("click",addTask);
    els.newTaskInput.addEventListener("keydown",e=>{if(e.key==="Enter")addTask();});

    els.exportBtn.addEventListener("click",()=>{
      const d=loadData();const payload=JSON.stringify({tasks:d.tasks},null,2);
      if(navigator.clipboard){navigator.clipboard.writeText(payload).then(()=>alert("Copied:\n\n"+payload));}
      else alert("Tasks JSON:\n\n"+payload);
    });
    els.importBtn.addEventListener("click",()=>{
      const txt=prompt("Paste tasks JSON:");if(!txt)return;
      try{
        const obj=JSON.parse(txt);
        if(Array.isArray(obj.tasks)){
          const d=loadData();d.tasks=[...new Set(obj.tasks)];d.checked={};saveData(d);renderTasks();updateProgress();
        }
      }catch{alert("Invalid format");}
    });

    function loadQuote(){
      const q=localStorage.getItem(KEY_QUOTE)||quotes[0];
      els.dailyQuote.textContent=currentLang.quote+q;
    }

    let currentLang=i18n[localStorage.getItem("lang")||"en"];
    function applyLang(lang){
      currentLang=i18n[lang];
      localStorage.setItem("lang",lang);
      document.title=currentLang.title;
      els.title.textContent=currentLang.title;
      els.addBtn.textContent=currentLang.add;
      els.removeCoverBtn.textContent=currentLang.removeCover;
      els.selectCoverBtn.textContent=currentLang.selectCover;
      els.exportBtn.textContent=currentLang.export;
      els.importBtn.textContent=currentLang.import;
      els.coverSettings.textContent=currentLang.coverSettings;
      els.taskSettings.textContent=currentLang.taskSettings;
      els.completeMsg.textContent=currentLang.completed;
      updateProgress();loadQuote();
    }
    els.langSelect.value=localStorage.getItem("lang")||"en";
    els.langSelect.addEventListener("change",e=>applyLang(e.target.value));

    els.fab.addEventListener("click",()=>{
      els.settingsPanel.style.display=els.settingsPanel.style.display==="block"?"none":"block";
    });

    (function init(){
      resetIfNewDay();localStorage.setItem(KEY_DATE,todayKey());
      loadCover();renderTasks();loadQuote();applyLang(localStorage.getItem("lang")||"en");
    })();
  </script>
</body>
</html>
